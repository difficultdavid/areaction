(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(2),r=a.n(l),o=(a(15),a(3)),c=a(4),i=a(7),u=a(5),h=a(8);a(16);var m=function(e){var t=e.milestones.map(function(e){return s.a.createElement("option",{key:e.number,value:e.number},e.title)}),a=e.assignees.map(function(e){return s.a.createElement("option",{key:e.id,value:e.login},e.login)}),n=e.labels.map(function(e){return s.a.createElement("option",{key:e.id,value:e.name},e.name)});return s.a.createElement("div",{className:"searchForm"},s.a.createElement("div",{className:"searchErrors"}),s.a.createElement("form",{onSubmit:e.onSearch},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Search"),s.a.createElement("div",null,s.a.createElement("div",{className:"formRow clearfix"},s.a.createElement("label",null,"Milestone"),s.a.createElement("select",{onChange:function(t){return e.onMilestoneChange(t.target.value)}},s.a.createElement("option",{key:"*",value:"*"},"Any"),t,s.a.createElement("option",{key:"none",value:"none"},"Not assigned"))),s.a.createElement("div",{className:"formRow clearfix"},s.a.createElement("label",null,"State"),s.a.createElement("select",{onChange:function(t){return e.onStateChange(t.target.value)}},s.a.createElement("option",{value:"open",key:"open"},"Open"),s.a.createElement("option",{value:"closed",key:"closed"},"Closed"),s.a.createElement("option",{value:"all",key:"all"},"All"))),s.a.createElement("div",{className:"formRow clearfix"},s.a.createElement("label",null,"Assignee"),s.a.createElement("select",{onChange:function(t){return e.onAssigneeChange(t.target.value)}},s.a.createElement("option",{key:"*",value:"*"},"Any"),a,s.a.createElement("option",{key:"none",value:"none"},"Not assigned"))),s.a.createElement("div",{className:"formRow clearfix"},s.a.createElement("label",null,"Creator"),s.a.createElement("input",{type:"text",onChange:function(t){return e.onCreatorChange(t.target.value)}})),s.a.createElement("div",{className:"formRow clearfix"},s.a.createElement("label",null,"Label(s)"),s.a.createElement("select",{onChange:function(t){return e.onLabelsChange(function(e){for(var t,a=[],n=e.options.length,s=0;s<n;s++)(t=e.options[s]).selected&&a.push(t.value);return a}(t.target))},multiple:"multiple"},n)),s.a.createElement("div",{className:"clearfix"}),s.a.createElement("div",{className:"buttonRow clearfix"},s.a.createElement("button",{type:"submit"},"Submit"))))))};var g=function(e){return s.a.createElement("tr",null,s.a.createElement("td",{className:"titleCell"},e.result.title),s.a.createElement("td",{className:"bodyCell"},e.result.body),s.a.createElement("td",{className:"userLoginCell"},null!=e.result.user?e.result.user.login:"Not set"),s.a.createElement("td",{className:"assigneeLoginCell"},null!=e.result.assignee?e.result.assignee.login:"Not set"))};var f=function(e){var t=e.results.map(function(e){return s.a.createElement(g,{key:e.id,result:e})});return 0===e.results.length&&(t=s.a.createElement("tr",null,s.a.createElement("td",{colSpan:"4",className:"noResultsCell"},"No Results"))),s.a.createElement("div",{className:"searchResults"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Title"),s.a.createElement("th",null,"Body"),s.a.createElement("th",null,"User Login"),s.a.createElement("th",null,"Assignee Login"))),s.a.createElement("tbody",null,t)))};var p=function(e){return"undefined"!==typeof e.href?s.a.createElement("button",{onClick:function(){return e.onNav(e.href)}},e.symbol):s.a.createElement("button",{disabled:"disabled"},e.symbol)};var E=function(e){if(null==e.lastResponse||null==e.lastResponse.headers.get("Link"))return"";var t=e.lastResponse.headers.get("Link").split(",").map(function(e){var t=e.split(";"),a=t[0].trim();a=a.substring(1,a.length-1);var n=t[1].trim();return{rel:n=n.substring(5,n.length-1),href:a}}),a={};t.map(function(e){a[e.rel]=e.href});var n={first:"<<",prev:"<",next:">",last:">>"},l=["first","prev","next","last"].map(function(t){return s.a.createElement(p,{key:t,href:a[t],onNav:e.onNav,symbol:n[t]})});return s.a.createElement("div",{className:"searchResultsNav"},l)},b=a(6),d=a.n(b),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onSearch=function(e){e.preventDefault(),a.setState({searchResultData:[]});var t="https://api.github.com/repos/angular/angular/issues?since="+d()().subtract(7,"days").format()+"&milestone="+a.state.searchMilestone+"&state="+a.state.searchState;t+="&assignee="+(a.state.searchAssignee?a.state.searchAssignee:"*"),a.state.searchCreator&&(t+="&creator="+a.state.searchCreator),a.state.searchLabels.length>0&&(t+="&labels="+a.state.searchLabels.join(",")),a.doFetch(t)},a.doFetch=function(e){fetch(e).then(function(e){return a.setState({lastResponse:e}),e.json()}).then(function(e){a.state.lastResponse.ok?a.setState({searchResultData:e}):a.setState({searchErrors:e})})},a.onStateChange=function(e){a.setState({searchState:e})},a.onMilestoneChange=function(e){a.setState({searchMilestone:e})},a.onAssigneeChange=function(e){a.setState({searchAssignee:e})},a.onCreatorChange=function(e){a.setState({searchCreator:e})},a.onLabelsChange=function(e){a.setState({searchLabels:e})},a.fetchMilestones=function(){fetch("https://api.github.com/repos/angular/angular/milestones").then(function(e){return e.json()}).then(function(e){a.setState({milestones:e})})},a.fetchAssignees=function(){fetch("https://api.github.com/repos/angular/angular/assignees?per_page=100").then(function(e){return e.json()}).then(function(e){a.setState({assignees:e})})},a.fetchLabels=function(){fetch("https://api.github.com/repos/angular/angular/labels?per_page=100").then(function(e){return e.json()}).then(function(e){a.setState({labels:e})})},a.state={searchResultData:[],milestones:[],assignees:[],labels:[],searchMilestone:"*",searchState:"open",searchAssignee:"*",searchCreator:"",searchLabels:[],lastResponse:null,searchErrors:{}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchMilestones(),this.fetchAssignees(),this.fetchLabels()}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},"Angular Github Repository - Issue Search"),s.a.createElement(m,{searchErrors:this.state.searchErrors,onSearch:this.onSearch,lastResponse:this.state.lastResponse,onStateChange:this.onStateChange,milestones:this.state.milestones,onMilestoneChange:this.onMilestoneChange,assignees:this.state.assignees,onAssigneeChange:this.onAssigneeChange,onCreatorChange:this.onCreatorChange,labels:this.state.labels,onLabelsChange:this.onLabelsChange}),s.a.createElement(E,{lastResponse:this.state.lastResponse,onNav:this.doFetch}),s.a.createElement(f,{results:this.state.searchResultData}))}}]),t}(s.a.Component);r.a.render(s.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.e3d7709c.chunk.js.map